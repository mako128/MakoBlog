{"ast":null,"code":"import _slicedToArray from\"/Users/Makovitch/Desktop/reddit-stories-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{useDispatch,useSelector}from\"react-redux\";import{selectUserInput,setBlogData}from\"../features/userSlice\";import\"../styling/blogs.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Blogs=function Blogs(){var _blogs$articles;var searchInput=useSelector(selectUserInput);var blog_url=\"https://gnews.io/api/v4/search?q=\".concat(searchInput,\"&token=14131604490196f7cd2504a22c6a1836\");var dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){axios.get(blog_url).then(function(response){dispatch(setBlogData(response.data));setBlogs(response.data);setLoading(false);}).catch(function(error){console.log(error);});},[searchInput]);return/*#__PURE__*/_jsxs(\"div\",{className:\"blog__page\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"blog__page__header\",children:\"Blogs\"}),loading?/*#__PURE__*/_jsx(\"h1\",{className:\"loading\",children:\"Loading...\"}):\"\",/*#__PURE__*/_jsxs(\"div\",{className:\"blogs\",children:[blogs===null||blogs===void 0?void 0:(_blogs$articles=blogs.articles)===null||_blogs$articles===void 0?void 0:_blogs$articles.map(function(blog){return/*#__PURE__*/_jsxs(\"a\",{className:\"blog\",target:\"_blank\",href:blog.url,children:[/*#__PURE__*/_jsx(\"img\",{src:blog.image}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"sourceName\",children:[/*#__PURE__*/_jsx(\"span\",{children:blog.source.name}),/*#__PURE__*/_jsx(\"p\",{children:blog.publishedAt})]}),/*#__PURE__*/_jsx(\"h1\",{children:blog.title}),/*#__PURE__*/_jsx(\"p\",{children:blog.description})]})]});}),(blogs===null||blogs===void 0?void 0:blogs.totalArticles)==0&&/*#__PURE__*/_jsx(\"h1\",{className:\"no__blogs\",children:\"No blogs available \\uD83D\\uDE1E. Search something else to read blogs on the greatest platform.\"})]})]});};export default Blogs;","map":{"version":3,"sources":["/Users/Makovitch/Desktop/reddit-stories-app/src/Components/Blogs.js"],"names":["React","useEffect","useState","axios","useDispatch","useSelector","selectUserInput","setBlogData","Blogs","searchInput","blog_url","dispatch","blogs","setBlogs","loading","setLoading","get","then","response","data","catch","error","console","log","articles","map","blog","url","image","source","name","publishedAt","title","description","totalArticles"],"mappings":"iIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,eAAT,CAA0BC,WAA1B,KAA6C,uBAA7C,CAEA,MAAO,sBAAP,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,qBAClB,GAAMC,CAAAA,WAAW,CAAGJ,WAAW,CAACC,eAAD,CAA/B,CACA,GAAMI,CAAAA,QAAQ,4CAAuCD,WAAvC,2CAAd,CACA,GAAME,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACA,cAA0BF,QAAQ,EAAlC,wCAAOU,KAAP,eAAcC,QAAd,eAEA,eAA8BX,QAAQ,CAAC,IAAD,CAAtC,yCAAOY,OAAP,eAAgBC,UAAhB,eAEAd,SAAS,CAAC,UAAM,CACdE,KAAK,CACFa,GADH,CACON,QADP,EAEGO,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBP,QAAQ,CAACJ,WAAW,CAACW,QAAQ,CAACC,IAAV,CAAZ,CAAR,CACAN,QAAQ,CAACK,QAAQ,CAACC,IAAV,CAAR,CACAJ,UAAU,CAAC,KAAD,CAAV,CACD,CANH,EAOGK,KAPH,CAOS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CATH,EAUD,CAXQ,CAWN,CAACZ,WAAD,CAXM,CAAT,CAaA,mBACE,aAAK,SAAS,CAAC,YAAf,wBACE,WAAI,SAAS,CAAC,oBAAd,mBADF,CAEGK,OAAO,cAAG,WAAI,SAAS,CAAC,SAAd,wBAAH,CAA6C,EAFvD,cAGE,aAAK,SAAS,CAAC,OAAf,WACGF,KADH,SACGA,KADH,kCACGA,KAAK,CAAEY,QADV,0CACG,gBAAiBC,GAAjB,CAAqB,SAACC,IAAD,qBACpB,WAAG,SAAS,CAAC,MAAb,CAAoB,MAAM,CAAC,QAA3B,CAAoC,IAAI,CAAEA,IAAI,CAACC,GAA/C,wBACE,YAAK,GAAG,CAAED,IAAI,CAACE,KAAf,EADF,cAEE,oCACE,YAAI,SAAS,CAAC,YAAd,wBACE,sBAAOF,IAAI,CAACG,MAAL,CAAYC,IAAnB,EADF,cAEE,mBAAIJ,IAAI,CAACK,WAAT,EAFF,GADF,cAKE,oBAAKL,IAAI,CAACM,KAAV,EALF,cAME,mBAAIN,IAAI,CAACO,WAAT,EANF,GAFF,GADoB,EAArB,CADH,CAeG,CAAArB,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAEsB,aAAP,GAAwB,CAAxB,eACC,WAAI,SAAS,CAAC,WAAd,4GAhBJ,GAHF,GADF,CA4BD,CAjDD,CAmDA,cAAe1B,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectUserInput, setBlogData } from \"../features/userSlice\";\n\nimport \"../styling/blogs.css\";\n\nconst Blogs = () => {\n  const searchInput = useSelector(selectUserInput);\n  const blog_url = `https://gnews.io/api/v4/search?q=${searchInput}&token=14131604490196f7cd2504a22c6a1836`;\n  const dispatch = useDispatch();\n  const [blogs, setBlogs] = useState();\n\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    axios\n      .get(blog_url)\n      .then((response) => {\n        dispatch(setBlogData(response.data));\n        setBlogs(response.data);\n        setLoading(false);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, [searchInput]);\n\n  return (\n    <div className=\"blog__page\">\n      <h1 className=\"blog__page__header\">Blogs</h1>\n      {loading ? <h1 className=\"loading\">Loading...</h1> : \"\"}\n      <div className=\"blogs\">\n        {blogs?.articles?.map((blog) => (\n          <a className=\"blog\" target=\"_blank\" href={blog.url}>\n            <img src={blog.image} />\n            <div>\n              <h3 className=\"sourceName\">\n                <span>{blog.source.name}</span>\n                <p>{blog.publishedAt}</p>\n              </h3>\n              <h1>{blog.title}</h1>\n              <p>{blog.description}</p>\n            </div>\n          </a>\n        ))}\n\n        {blogs?.totalArticles == 0 && (\n          <h1 className=\"no__blogs\">\n            No blogs available ðŸ˜ž. Search something else to read blogs on the\n            greatest platform.\n          </h1>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Blogs;"]},"metadata":{},"sourceType":"module"}